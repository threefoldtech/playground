import{l as h}from"./tf_deployment_list.vue_vue_type_script_setup_true_lang-1240b60d.js";import{d as V,a as G,r as n,P as k,y as C,b as s,o as P,c as M,w as d,f as c,Q as x,s as z,e as B,j as S,h as $}from"./index-b7afd9dd.js";const j={class:"px-4 mt-4"},q={name:"SelectGatewayNode"},Q=V({...q,props:{modelValue:null},emits:["update:model-value"],setup(m,{emit:p}){const v=m,g=G(),l=n(!1),a=n([]),t=n(1),i=50;k(u);async function u(){l.value=!0;const e=await C(g.profile),o=await h(e,{page:t.value++,size:i});(o.length===0||o.length<i)&&(t.value=-1),a.value=a.value.concat(o.map(f)),l.value=!1,!v.modelValue&&a.value.length>0&&p("update:model-value",a.value[0])}function f(e){return{id:+e.nodeId,domain:e.publicConfig.domain}}return(e,o)=>{var r;const _=s("v-btn"),w=s("v-autocomplete"),y=s("input-validator");return P(),M(y,{value:(r=e.$props.modelValue)==null?void 0:r.id,rules:[$("Gateway node is required.")]},{default:d(({props:b})=>[c(w,S({label:"Select gateway Node",placeholder:"Please select a domain.",items:a.value,"item-title":"domain","return-object":""},b,{"onUpdate:modelValue":o[0]||(o[0]=N=>e.$emit("update:model-value",N)),loading:a.value.length===0&&l.value,disabled:a.value.length===0&&l.value,"model-value":e.$props.modelValue}),x({_:2},[t.value!==-1?{name:"append-item",fn:d(()=>[z("div",j,[c(_,{block:"",color:"secondary",variant:"tonal",rounded:"large",size:"large",onClick:u,loading:l.value},{default:d(()=>[B(" Load More Gateway Nodes ")]),_:1},8,["loading"])])]),key:"0"}:void 0]),1040,["items","loading","disabled","model-value"])]),_:1},8,["value","rules"])}}});export{Q as _};
