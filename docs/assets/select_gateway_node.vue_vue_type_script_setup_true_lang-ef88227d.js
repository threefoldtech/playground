import{m as V}from"./tf_deployment_list.vue_vue_type_script_setup_true_lang-1803a4f6.js";import{d as h,a as k,r as n,B as C,k as G,b as s,o as B,c as M,w as d,f as m,C as P,j as z,e as S,m as $}from"./index-df6f743d.js";const j={class:"px-4 mt-4"},q={name:"SelectGatewayNode"},L=h({...q,props:{modelValue:null},emits:["update:model-value"],setup(c,{emit:p}){const v=c,g=k(),l=n(!1),a=n([]),t=n(1),i=50;C(r);async function r(){l.value=!0;const e=await G(g.profile),o=await V(e,{page:t.value++,size:i});(o.length===0||o.length<i)&&(t.value=-1),a.value=a.value.concat(o.map(f)),l.value=!1,!v.modelValue&&a.value.length>0&&p("update:model-value",a.value[0])}function f(e){return{id:+e.nodeId,domain:e.publicConfig.domain}}return(e,o)=>{var u;const _=s("v-btn"),w=s("v-autocomplete"),b=s("input-validator");return B(),M(b,{value:(u=e.$props.modelValue)==null?void 0:u.id,rules:[e.validators.required("Gateway node is required.")]},{default:d(({props:y})=>[m(w,$({label:"Select gateway Node",placeholder:"Please select a domain.",items:a.value,"item-title":"domain","return-object":""},y,{"onUpdate:modelValue":o[0]||(o[0]=N=>e.$emit("update:model-value",N)),loading:a.value.length===0&&l.value,disabled:a.value.length===0&&l.value,"model-value":e.$props.modelValue}),P({_:2},[t.value!==-1?{name:"append-item",fn:d(()=>[z("div",j,[m(_,{block:"",color:"secondary",variant:"tonal",rounded:"large",size:"large",onClick:r,loading:l.value},{default:d(()=>[S(" Load More Gateway Nodes ")]),_:1},8,["loading"])])]),key:"0"}:void 0]),1040,["items","loading","disabled","model-value"])]),_:1},8,["value","rules"])}}});export{L as _};
