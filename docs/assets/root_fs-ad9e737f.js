var ne=Object.defineProperty;var re=(t,e,n)=>e in t?ne(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var x=(t,e,n)=>(re(t,typeof e!="symbol"?e+"":e,n),n);import{g as L,a4 as se,X as ae,a5 as ie,a6 as oe,a7 as ce,a8 as ue,a9 as le,aa as de,d as j,r as h,B as O,P as G,b as A,o as W,c as pe,a as fe,A as me,f as M,w as ye,h as _e,s as be,y as he,ab as Ie}from"./index-b070312d.js";class ve{constructor(){x(this,"nodes",new Map)}async pick(e){let n=[-1,Number.MAX_SAFE_INTEGER];for(const r of e){const s=+r.nodeId;if(this.nodes.has(s)){const a=this.nodes.get(s);a<n[1]&&(n=[s,a])}else return this.nodes.set(s,1),console.log("%c picked nodeId: "+s,"color: steelblue"),s}return this.nodes.set(n[0],n[1]+1),console.log("%c picked nodeId: "+n[0],"color: steelblue"),n[0]}}function Ce(t={}){const e=new se;return e.name=t.name||"NW"+L(10),e.ip_range=t.ipRange||"10.20.0.0/16",e.addAccess=t.addAccess||!1,e}async function yt(t,e){const n=new ve,r=new ie;return r.name=e.name,r.network=Ce(e.network),r.machines=await Promise.all(e.machines.map(s=>ge(t,s,n))),r.metadata=e.metadata,r.description=e.description,await t.machines.deploy(r),Q(t,r.name)}async function Q(t,e){const n=await t.machines.getObj(e);return n.deploymentName=e,n}async function ge(t,e,n){var a,i;const r={cru:e.cpu,mru:Math.round(e.memory/1024),country:e.country,farmId:e.farmId,farmName:e.farmName,hru:(a=e.qsfsDisks)==null?void 0:a.reduce((o,m)=>o+m.cache,0),sru:(i=e.disks)==null?void 0:i.reduce((o,m)=>o+m.size,e.rootFilesystemSize||0),publicIPs:e.publicIpv4,availableFor:t.twinId},s=new oe;return s.name=e.name,s.node_id=await n.pick(await t.capacity.filterNodes(r)),s.disks=Y(e.disks),s.public_ip=e.publicIpv4||!1,s.public_ip6=e.publicIpv6||!1,s.planetary=e.planetary||!0,s.cpu=e.cpu,s.memory=e.memory,s.rootfs_size=e.rootFilesystemSize||0,s.flist=e.flist,s.entrypoint=e.entryPoint,s.env=K(e.envs),s.solutionProviderID=1,s.qsfs_disks=H(e.qsfsDisks),s}function H(t=[]){return t.map(e=>{const n=new ce;return n.name=e.name,n.cache=e.cache,n.mountpoint=e.mountpoint,n.encryption_key=e.encryption_key||e.name,n.prefix=e.prefix||e.name,n.qsfs_zdbs_name=e.zdbsName||e.name,n})}function K(t=[]){return t.reduce((e,n)=>(e[n.key]=n.value,e),{})}function Y(t=[]){return t.map(e=>{const n=new ue;return n.name=e.name||"DS"+L(10),n.size=e.size,n.mountpoint=e.mountPoint,n})}async function _t(t,e){var s,a;console.log(e);const n={cru:e.cpu,mru:Math.round(e.memory/1024),country:e.country,farmId:e.farmId,farmName:e.farmName,hru:(s=e.qsfsDisks)==null?void 0:s.reduce((i,o)=>i+o.cache,0),sru:(a=e.disks)==null?void 0:a.reduce((i,o)=>i+o.size,e.rootFilesystemSize||0),publicIPs:e.publicIpv4,availableFor:t.twinId},r=new le;return r.deployment_name=e.deploymentName,r.cpu=e.cpu,r.memory=e.memory,r.disks=Y(e.disks),r.node_id=+ae(await t.capacity.filterNodes(n)).nodeId,r.public_ip=e.publicIpv4||!1,r.public_ip6=e.publicIpv6||!1,r.name=e.name,r.planetary=e.planetary||!0,r.flist=e.flist,r.entrypoint=e.entryPoint,r.qsfs_disks=H(e.qsfsDisks),r.rootfs_size=e.rootFilesystemSize||0,r.env=K(e.envs),r.solutionProviderID=1,await t.machines.add_machine(r),Q(t,e.deploymentName)}async function bt(t,e){const n=new de;n.deployment_name=e.deploymentName,n.name=e.name;const r=await t.machines.delete_machine(n);if(!r.deleted&&!r.updated)throw new Error("Failed to delete machine");return r}var we=(t=>(t.Kubernetes="Kubernetes",t.Caprover="CapRover",t.Discourse="Discourse",t.Funkwhale="Funkwhale",t.Mastodon="Mastodon",t.Mattermost="Mattermost",t.Owncloud="Owncloud",t.Peertube="Peertube",t.Subsquid="Subsquid",t.Taiga="Taiga",t.Wordpress="Wordpress",t.Gateway="GatewayName",t.QVM="Qvm",t.TFhubValidator="TFhubValidator",t.Casperlabs="Casperlabs",t.Presearch="Presearch",t.VM="VM",t.NodePilot="NodePilot",t.Fullvm="Fullvm",t.Algorand="Algorand",t.Qvm="Qvm",t.Umbrel="Umbrel",t))(we||{}),Te=(t=>(t.Peertube="pt",t.Funkwhale="fw",t.Taiga="tg",t.Discourse="dc",t.Owncloud="oc",t.Mattermost="mm",t.Mastodon="md",t.TFhubValidator="tfvalidator",t.Casperlabs="cl",t.Presearch="ps",t.CapRover="cp",t.Kubernetes="k8s",t.Machines="vm",t.VM="vm",t.NodePilot="np",t.Fullvm="fvm",t.Subsquid="ss",t.Algorand="al",t.Qvm="qvm",t.Umbrel="um",t.Wordpress="wp",t))(Te||{});function q(t){throw new Error(t)}function N(t){Object.keys(t).length===0&&q("[Object] must contain at least 1 field.");for(const e in t)t[e]instanceof Object?N(t[e]):t[e]!==!0&&q(`Expected "${e}" of type [true | string] but got [${typeof t[e]}]`)}function Be(t){(t===""||t===void 0||t===null)&&q(`Expected a valid [ID] but got [${t}].`)}const $e={nodes:"nodesConnection",accounts:"accountsConnection",burnTransactions:"burnTransactionsConnection",cities:"citiesConnection",contractBillReports:"contractBillReportsConnection",contractResources:"contractResourcesConnection",countries:"countriesConnection",entityProofs:"entityProofsConnection",farmingPolicies:"farmingPoliciesConnection",farms:"farmsConnection",historicalBalances:"historicalBalancesConnection",interfaces:"interfacesConnection",locations:"locationsConnection",mintTransactions:"mintTransactionsConnection",nameContracts:"nameContractsConnection",nodeContracts:"nodeContractsConnection",nodeResourcesTotals:"nodeResourcesTotalsConnection",nruConsumptions:"nruConsumptionsConnection",pricingPolicies:"pricingPoliciesConnection",publicConfigs:"publicConfigsConnection",publicIps:"publicIpsConnection",refundTransactions:"refundTransactionsConnection",rentContracts:"rentContractsConnection",solutionProviders:"solutionProvidersConnection",transfers:"transfersConnection",twins:"twinsConnection",uptimeEvents:"uptimeEventsConnection"},Pe={nodesConnection:"Node",accountsConnection:"Account",burnTransactionsConnection:"BurnTransaction",citiesConnection:"City",contractBillReportsConnection:"ContractBillReport",contractResourcesConnection:"ContractResources",countriesConnection:"Country",entityProofsConnection:"EntityProof",farmingPoliciesConnection:"FarmingPolicy",farmsConnection:"Farm",historicalBalancesConnection:"HistoricalBalance",interfacesConnection:"Interfaces",locationsConnection:"Location",mintTransactionsConnection:"MintTransaction",nameContractsConnection:"NameContract",nodeContractsConnection:"NodeContract",nodeResourcesTotalsConnection:"NodeResourcesTotal",nruConsumptionsConnection:"NruConsumption",pricingPoliciesConnection:"PricingPolicy",publicConfigsConnection:"PublicConfig",publicIpsConnection:"PublicIp",refundTransactionsConnection:"RefundTransaction",rentContractsConnection:"RentContract",solutionProvidersConnection:"SolutionProvider",transfersConnection:"Transfer",twinsConnection:"Twin",uptimeEventsConnection:"UptimeEvent"};let Re=class B{_list(e){N(e.fields);const{name:n,entity:r,limit:s,offset:a,orderBy:i,where:o,fields:m}=e,_=`
      ${n}(
        limit: $limit${n},
        offset: $offset${n},
        orderBy: $orderBy${n},
        where: $where${n},
      ) {
        ${B.normalizeFields(m)}
      }
    `;return{name:n,parameters:[`$limit${n}: Int`,`$offset${n}: Int`,`$orderBy${n}: [${r}OrderByInput!]`,`$where${n}: ${r}WhereInput`],query:_,variables:{[`limit${n}`]:s,[`offset${n}`]:a,[`orderBy${n}`]:i,[`where${n}`]:o}}}_byId(e,n,r){Be(e),N(n);const s=`
      ${r}(id: $id${r}) {
        ${B.normalizeFields(n)}
      }
    `;return{name:r,parameters:[`$id${r}: ID!`],query:s,variables:{[`id${r}`]:e}}}_connection(e,n,r){N(e);const s=Pe[r],a=[`$after${r}: String`,`$first${r}: Int`,`$orderBy${r}: [${s}OrderByInput!]!`,`$where${r}: ${s}WhereInput`],i=`
      ${r}(
        after: $after${r},
        first: $first${r},
        orderBy: $orderBy${r},
        where: $where${r}
      ) {
        ${B.normalizeFields(e)}
      }
    `;return{name:r,query:i,parameters:a,variables:{[`after${r}`]:n.after,[`first${r}`]:n.first,[`orderBy${r}`]:n.orderBy,[`where${r}`]:n.where}}}static normalizeFields(e){return Object.entries(e).reduce((n,[r,s])=>(n.push(s===!0?r:`${r}{${B.normalizeFields(s)}}`),n),[]).join(",")}};const Oe={Node:"nodes",Account:"accounts",BurnTransaction:"burnTransactions",City:"cities",ContractBillReport:"contractBillReports",ContractResources:"contractResources",Country:"countries",EntityProof:"entityProofs",FarmingPolicy:"farmingPolicies",Farm:"farms",HistoricalBalance:"historicalBalances",Interfaces:"interfaces",Location:"locations",MintTransaction:"mintTransactions",NameContract:"nameContracts",NodeContract:"nodeContracts",NodeResourcesTotal:"nodeResourcesTotals",NruConsumption:"nruConsumptions",PricingPolicy:"pricingPolicies",PublicConfig:"publicConfigs",PublicIp:"publicIps",RefundTransaction:"refundTransactions",RentContract:"rentContracts",SolutionProvider:"solutionProviders",Transfer:"transfers",Twin:"twins",UptimeEvent:"uptimeEvents"},Ne={nodes:"nodeById",accounts:"accountById",burnTransactions:"burnTransactionById",cities:"cityById",contractBillReports:"contractBillReportById",contractResources:"contractResourcesById",countries:"countryById",entityProofs:"entityProofById",farmingPolicies:"farmingPolicyById",farms:"farmById",historicalBalances:"historicalBalanceById",interfaces:"interfacesById",locations:"locationById",mintTransactions:"mintTransactionById",nameContracts:"nameContractById",nodeContracts:"nodeContractById",nodeResourcesTotals:"nodeResourcesTotalById",nruConsumptions:"nruConsumptionById",pricingPolicies:"pricingPolicyById",publicConfigs:"publicConfigById",publicIps:"publicIpById",refundTransactions:"refundTransactionById",rentContracts:"rentContractById",solutionProviders:"solutionProviderById",transfers:"transferById",twins:"twinById",uptimeEvents:"uptimeEventById"};var S;(function(t){t.Dev="dev",t.Test="test",t.Qa="qa",t.Main="main"})(S||(S={}));class C extends Re{constructor(e){super(),this.__uri=e===S.Main?"https://graphql.grid.tf/graphql":`https://graphql.${e}.grid.tf/graphql`}async _request(e){const{name:n,parameters:r,query:s,variables:a}=e,i=r&&r.length?`(${r.join(", ")})`:"",o=await fetch(this.__uri,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({query:`
          query TFGridClientQuery${i} {
            ${s}
          }
        `,variables:a})}),{data:m}=await o.json();return n?m[n]:m}merge(e){const n=[];for(const s in e)n.push(this[`__${s}`].apply(this,e[s]));const r=n.reduce((s,{parameters:a,query:i,variables:o})=>(s.parameters=[...s.parameters,...a],s.query+=` ${i}`,s.variables=Object.assign(Object.assign({},s.variables),o),s),{name:null,parameters:[],query:"",variables:{}});return this._request(r)}}for(const[t,e]of Object.entries(Oe))Object.defineProperty(C.prototype,`__${e}`,{value(n,r){return this._list(Object.assign({name:e,entity:t,fields:n},r))}}),Object.defineProperty(C.prototype,e,{value(n,r){return this._request(this[`__${e}`](n,r))}});for(const t of Object.values(Ne))Object.defineProperty(C.prototype,`__${t}`,{value(e,n){return this._byId(e,n,t)}}),Object.defineProperty(C.prototype,t,{value(e,n){return this._request(this[`__${t}`](e,n))}});for(const t of Object.values($e))Object.defineProperty(C.prototype,`__${t}`,{value(e,n){return this._connection(e,n,t)}}),Object.defineProperty(C.prototype,t,{value(e,n){return this._request(this[`__${t}`](e,n))}});function De(t){return t[0].toLocaleUpperCase()+t.slice(1)}function X(t,e){return t>=e}async function R(t){const e=t.headers.get("count");return{count:e?+e:null,data:await t.json()}}function Ee(t){return J(t)&&t===parseInt(t.toString(),10)}function Fe(t){return typeof t=="string"}function J(t){return typeof t=="number"}function Me(t){return typeof t=="boolean"}function I(t,e){const n=De(typeof t);throw new Error(`Expected argument of type [${e}] but got [${n}] with value (${t}).`)}function Ae(t){!J(t)&&I(t,"Number")}function Z(t){Ae(t),!Ee(t)&&I(t,"Int")}function c(t){Z(t),!X(t,0)&&I(t,"Natural")}function p(t){Z(t),!X(t,1)&&I(t,"ID")}function f(t){!Fe(t)&&I(t,"String")}function g(t,e){!e.includes(t)&&I(t,`domain(${e.map(n=>'"'+n+'"').join(", ")})`)}function l(t){!Me(t)&&I(t,"Boolean")}function z(t,e){!e.test(t)&&I(t,`${e}`)}class w{constructor(e){this.__mapper=e.mapper,this.__validator=e.validator,this.__queries=e.queries;const n=this;for(const r of Object.keys(n.__mapper))Object.defineProperty(n,r,{value(s){return n.__queries[r]=s,n}})}async build(e){f(e),z(e,/^\//);const n=[];for(const s in this.__queries)this.__queries[s]===void 0||this.__queries[s]===null||this.__queries[s]===""||(this.__validator[s](this.__queries[s]),n.push(`${this.__mapper[s]}=${this.__queries[s]}`));const r=n.length>0?`?${n.join("&")}`:"";return fetch(`${this.uri}${e}${r}`)}}var $;(function(t){t.Node="node",t.Name="name",t.Rent="rent"})($||($={}));var P;(function(t){t.Created="Created",t.GracePeriod="GracePeriod",t.Deleted="Deleted"})(P||(P={}));const qe={page:"page",size:"size",retCount:"ret_count",contractId:"contract_id",twinId:"twin_id",nodeId:"node_id",name:"name",type:"type",state:"state",deploymentData:"deployment_data",deploymentHash:"deployment_hash",numberOfPublicIps:"number_of_public_ips"},Se={page:c,size:c,retCount:l,contractId:p,twinId:p,nodeId:p,name:f,type(t){f(t),g(t,[$.Name,$.Node,$.Rent])},state(t){f(t),g(t,[P.Created,P.GracePeriod,P.Deleted])},deploymentData:f,deploymentHash:f,numberOfPublicIps:c};class ze extends w{constructor(e,n={}){super({mapper:qe,validator:Se,queries:n}),this.uri=e}}var D;(function(t){t.Diy="DIY",t.Certified="Certified",t.NotCertified="NotCertified"})(D||(D={}));const Ve={page:"page",size:"size",retCount:"ret_count",freeIps:"free_ips",certificationType:"certification_type",version:"version",dedicated:"dedicated",farmId:"farm_id",name:"name",nameContains:"name_contains",pricingPolicyId:"pricing_policy_id",stellarAddress:"stellar_address",totalIps:"total_ips",twinId:"twin_id"},xe={page:c,size:c,retCount:l,freeIps:c,totalIps:c,pricingPolicyId:p,version:c,farmId:p,twinId:p,name:f,nameContains:f,certificationType(t){g(t,[D.Diy,D.Certified])},dedicated:l,stellarAddress:f};class ke extends w{constructor(e,n={}){super({mapper:Ve,validator:xe,queries:n}),this.uri=e}}var y;(function(t){t.Up="up",t.Down="down"})(y||(y={}));const Ue={page:"page",size:"size",retCount:"ret_count",freeMru:"free_mru",freeHru:"free_hru",freeSru:"free_sru",freeIps:"free_ips",status:"status",city:"city",country:"country",farmName:"farm_name",ipv4:"ipv4",ipv6:"ipv6",dedicated:"dedicated",rentable:"rentable",rented:"rented",rentedBy:"rentedBy",availableFor:"available_for",farmIds:"farm_ids"},ee=/^\d+$/,Le={page:c,size:c,retCount:l,freeMru:c,freeHru:c,freeSru:c,freeIps:c,status(t){g(t,[y.Up,y.Down])},city:f,country:f,farmName:f,ipv4:l,ipv6:l,dedicated:l,rentable:l,rented:l,rentedBy:p,availableFor:p,farmIds(t){t.split(",").forEach(e=>{z(e,ee),p(+e)})}};class je extends w{constructor(e,n={}){super({mapper:Ue,validator:Le,queries:n}),this.uri=e}}const Ge={page:"page",size:"size",retCount:"ret_count",freeMru:"free_mru",freeHru:"free_hru",freeSru:"free_sru",freeIps:"free_ips",status:"status",city:"city",country:"country",farmName:"farm_name",domain:"domain",ipv4:"ipv4",ipv6:"ipv6",dedicated:"dedicated",rentable:"rentable",rented:"rented",rentedBy:"rented_by",availableFor:"available_for",farmIds:"farm_ids",nodeId:"node_id"},We={page:c,size:c,retCount:l,freeMru:c,freeHru:c,freeSru:c,freeIps:c,status(t){g(t,[y.Up,y.Down])},city:f,country:f,farmName:f,domain:l,ipv4:l,ipv6:l,dedicated:l,rentable:l,rented:l,rentedBy:p,availableFor:p,farmIds(t){t.split(",").forEach(e=>{z(e,ee),p(+e)})},nodeId:p};class Qe extends w{constructor(e,n={}){super({mapper:Ge,validator:We,queries:n}),this.uri=e}}const He={status:"status"},Ke={status(t){g(t,[y.Up,y.Down])}};class Ye extends w{constructor(e,n={}){super({mapper:He,validator:Ke,queries:n}),this.uri=e}}const Xe={page:"page",size:"size",retCount:"ret_count",accountId:"account_id",twinId:"twin_id"},Je={page:c,size:c,retCount:l,twinId:p,accountId:p};class Ze extends w{constructor(e,n={}){super({mapper:Xe,validator:Je,queries:n}),this.uri=e}}class T{constructor(e){this.uri=e.uri,this.__Builder=e.Builder}builder(e={}){return new this.__Builder(this.uri,e)}}var k;(function(t){t.Default="Default",t.None="none",t.Bronze="Bronze",t.Silver="Silver",t.Gold="Gold"})(k||(k={}));class et extends T{constructor(e){super({uri:e,Builder:ze})}async list(e={}){const n=await this.builder(e).build("/contracts");return R(n)}}class tt extends T{constructor(e){super({uri:e,Builder:ke})}async list(e={}){const n=await this.builder(e).build("/farms");return R(n)}async listAll(e={}){const{count:n}=await this.list(Object.assign(Object.assign({},e),{size:50,page:1,retCount:!0})),r=[],s=Math.ceil(n/50);for(let i=0;i<s;i++)r.push(this.list(Object.assign(Object.assign({},e),{size:50,page:i+1})));return(await Promise.all(r)).map(i=>i.data).flat(1)}}class nt extends T{constructor(e){super({uri:e,Builder:je})}async list(e={}){const n=await this.builder(e).build("/gateways");return R(n)}async byId(e){return p(e),(await this.builder({}).build(`/gateways/${e}`)).json()}}class rt extends T{constructor(e,n){super({uri:e,Builder:Qe}),this.__farmsClient=n,this.farms=new Map,this.setFarm=this.setFarm.bind(this)}async list(e={},n={}){const r=await this.builder(e).build("/nodes"),s=await R(r);return n.loadFarm&&(await this.loadFarms(s.data.map(a=>a.farmId)),s.data=s.data.map(this.setFarm)),s}async byId(e,n={}){const s=await(await this.builder({}).build(`/nodes/${e}`)).json();return n.loadFarm&&s?(await this.loadFarms([s.farmId]),this.setFarm(s)):s}async listAll(e={}){const{count:n}=await this.list(Object.assign(Object.assign({},e),{size:50,page:1,retCount:!0})),r=[],s=Math.ceil(n/50);for(let i=0;i<s;i++)r.push(this.list(Object.assign(Object.assign({},e),{size:50,page:i+1})));return(await Promise.all(r)).map(i=>i.data).flat(1)}async loadFarms(e){e=e.filter(s=>!this.farms.has(s));const n=Array.from(new Set(e));if(!n.length)return;const r=await Promise.all(n.map(s=>this.__farmsClient.list({farmId:s})));for(const{data:s}of r){const[a]=s;this.farms=this.farms.set(a.farmId,a)}}setFarm(e){return e.farm=this.farms.get(e.farmId),e}}class st extends T{constructor(e){super({uri:e,Builder:Ye})}async get(e={}){return(await this.builder(e).build("/stats")).json()}}class at extends T{constructor(e){super({uri:e,Builder:Ze})}async list(e={}){const n=await this.builder(e).build("/twins");return R(n)}}var v;(function(t){t.Main="main",t.Test="test",t.Dev="dev",t.Qa="qa"})(v||(v={}));class it{constructor(e){g(e,[v.Main,v.Test,v.Dev,v.Qa]),this.__uri=e===v.Main?"https://gridproxy.grid.tf":`https://gridproxy.${e}.grid.tf`,this.contracts=new et(this.__uri),this.farms=new tt(this.__uri),this.gateways=new nt(this.__uri),this.nodes=new rt(this.__uri,this.farms),this.stats=new st(this.__uri),this.twins=new at(this.__uri)}get uri(){return this.__uri}}const ot=new C("dev"),ct=new it("dev");async function ut(t,e){const n=[];let r=1;for(;r;){const a=await t.capacity.filterNodes({...e,page:r}).catch(()=>[]);n.push(a),r=n[r-1].length?++r:0}const s=Array.from(new Set(n.flat(1).map(a=>a.farmId)));return ot.farms({farmID:!0,name:!0},{orderBy:["farmID_ASC"],where:{farmID_in:s},limit:s.length})}const lt={name:"SelectCountry"},te=j({...lt,props:{modelValue:null},emits:["update:modelValue"],setup(t,{emit:e}){const n=h();O(n,i=>e("update:modelValue",i));const r=h(!1),s=h();async function a(){try{r.value=!0;const i=await ct.stats.get({status:y.Up});s.value=Object.keys(i.nodesDistribution),r.value=!1}catch{setTimeout(a,1e3)}}return G(a),(i,o)=>{const m=A("v-autocomplete");return W(),pe(m,{disabled:r.value,label:"Country",items:s.value,clearable:"",loading:r.value,modelValue:n.value,"onUpdate:modelValue":o[0]||(o[0]=_=>n.value=_)},null,8,["disabled","items","loading","modelValue"])}}}),dt=be("h6",{class:"text-h5 mb-4"},"Farm Filter",-1),pt={name:"SelectFarm",components:{SelectCountry:te}},ht=j({...pt,props:{modelValue:{type:Object},country:String,filters:{default:()=>({}),type:Object}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,r=fe(),s=h(),a=h();O([a,s],([d,u])=>e("update:modelValue",d?{farmID:d.farmID,name:d.name,country:u??void 0}:void 0));const i=h(!1),o=h([]);async function m(){i.value=!0;const d=a.value;a.value=void 0;const u=await he(r.profile),b=n.filters;o.value=await ut(u,{country:s.value,cru:b.cpu,mru:b.memory?Math.round(b.memory/1024):void 0,hru:b.disk,sru:b.ssd,publicIPs:b.publicIp,availableFor:u.twinId}),d&&(a.value=o.value.find(E=>E.name===d.name)),a.value||(a.value=o.value[0]),i.value=!1}G(m);const _=h(!1);return O(()=>({...n.filters,country:s.value}),(d,u)=>{d.cpu===u.cpu&&d.memory===u.memory&&d.ssd===u.ssd&&d.disk===u.disk&&d.publicIp===u.publicIp&&d.country===u.country||(_.value=!0)}),O([i,_],async([d,u])=>{d||!u||(_.value=!1,await m())}),(d,u)=>{var V;const b=A("v-autocomplete"),E=A("input-validator");return W(),me("section",null,[dt,M(te,{modelValue:s.value,"onUpdate:modelValue":u[0]||(u[0]=F=>s.value=F)},null,8,["modelValue"]),M(E,{rules:[_e("Farm is required.")],value:(V=a.value)==null?void 0:V.farmID},{default:ye(()=>[M(b,{disabled:i.value,label:"Farm Name",items:o.value,loading:i.value,"item-title":"name","return-object":"","model-value":_.value?void 0:a.value,"onUpdate:modelValue":u[1]||(u[1]=F=>a.value=F),"error-messages":!i.value&&!o.value.length?"No farms where found with the specified resources.":void 0},null,8,["disabled","items","loading","model-value","error-messages"])]),_:1},8,["rules","value"])])}}}),U=1024;function It(t,e){return new Ie(t).mul(e).divToInt(8*U).toNumber()===0?500/U:2}export{ve as N,we as P,Te as S,ht as _,_t as a,bt as b,Ce as c,yt as d,Q as l,It as r};
